<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Creating an OpenTAP plugin | OpenTAP Python Integration</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="Python Integration for OpenTAP">
    
    <link rel="preload" href="/OpenTap.Python/assets/css/0.styles.282cf655.css" as="style"><link rel="preload" href="/OpenTap.Python/assets/js/app.43612215.js" as="script"><link rel="preload" href="/OpenTap.Python/assets/js/2.d5a6c876.js" as="script"><link rel="preload" href="/OpenTap.Python/assets/js/8.1cd67e50.js" as="script"><link rel="prefetch" href="/OpenTap.Python/assets/js/10.1ad492c1.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/11.bcaa3917.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/12.76057cbc.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/13.170f7237.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/14.52364c88.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/15.576f8db3.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/16.8ee8ec8c.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/17.09f510b6.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/18.d0fa0de4.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/19.a3e5623e.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/20.a3339218.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/21.bb6e0b44.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/22.bf3d26d8.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/23.be280bf8.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/24.1bf84f65.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/25.eb2ee1ce.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/3.17ecd46f.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/4.2af2e028.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/5.82d2ee24.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/6.8ffec901.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/7.55cc89e7.js"><link rel="prefetch" href="/OpenTap.Python/assets/js/9.376dfb8d.js">
    <link rel="stylesheet" href="/OpenTap.Python/assets/css/0.styles.282cf655.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/OpenTap.Python/" class="home-link router-link-active"><!----> <span class="site-name">OpenTAP Python Integration</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/opentap/opentap" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OpenTAP
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.opentap.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OpenTAP Homepage
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/opentap/OpenTap.Python" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/opentap/opentap" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OpenTAP
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.opentap.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OpenTAP Homepage
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/opentap/OpenTap.Python" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/OpenTap.Python/" aria-current="page" class="sidebar-link">Welcome</a></li><li><a href="/OpenTap.Python/TAP_Python_Help/Prerequisites.html" class="sidebar-link">Prerequisites</a></li><li><a href="/OpenTap.Python/TAP_Python_Help/Getting_Started.html" class="sidebar-link">Getting Started</a></li><li><a href="/OpenTap.Python/TAP_Python_Help/Creating_a_plugin.html" aria-current="page" class="active sidebar-link">Creating a New Plugin</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/OpenTap.Python/TAP_Python_Help/Creating_a_plugin.html#develop-the-plugin-inside-the-packages-folder" class="sidebar-link">Develop the plugin inside the Packages folder.</a></li><li class="sidebar-sub-header"><a href="/OpenTap.Python/TAP_Python_Help/Creating_a_plugin.html#adding-pip-package-dependencies" class="sidebar-link">Adding Pip Package Dependencies</a></li><li class="sidebar-sub-header"><a href="/OpenTap.Python/TAP_Python_Help/Creating_a_plugin.html#projects-outside-the-opentap-installation" class="sidebar-link">Projects Outside the OpenTAP Installation</a></li></ul></li><li><a href="/OpenTap.Python/TAP_Python_Help/New_Project_Creation.html" class="sidebar-link">New Project Creation</a></li><li><a href="/OpenTap.Python/TAP_Python_Help/Code_Examples.html" class="sidebar-link">Example Code</a></li><li><a href="/OpenTap.Python/TAP_Python_Help/Debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/OpenTap.Python/TAP_Python_Help/Limitations.html" class="sidebar-link">Limitations</a></li><li><a href="/OpenTap.Python/TAP_Python_Help/Migration_Notes.html" class="sidebar-link">Migrating from 2.X</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Release Notes</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="creating-an-opentap-plugin"><a href="#creating-an-opentap-plugin" class="header-anchor">#</a> Creating an OpenTAP plugin</h1> <p>Developing Python plugin projects can be done in two ways.</p> <ol><li>Develop the plugin in an isolated 'project' folder. This is recommended for bigger projects.</li> <li>Develop the plugin inside the 'Packages' folder. This way it's easy to get started and make something quick, but maintaining the project becomes harder in the long run.</li></ol> <h3 id="developing-the-plugin-in-an-insolated-project-folder"><a href="#developing-the-plugin-in-an-insolated-project-folder" class="header-anchor">#</a> Developing the plugin in an insolated project folder.</h3> <p>This way of developing plugins makes it easier to do source control, manage dependencies and makes builds very reproducible. It also makes it simple to build the plugin using Continous Integration.</p> <ol><li><p>Setting up the project.</p> <p>First find the location of your tap.exe application. This is usually found inside your OpenTAP installation folder. Here you need to have the Python plugin installed. Do so by running.</p> <p><code>tap package install Python</code></p> <p>Now, you have access to the new-project command. This needs two pieces of information:</p> <ul><li>Where do you want your plugin to be located?</li> <li>What do you want to call the project?</li></ul> <p>Then you can call the new-project command:
<code>tap python new-project --project-name &quot;TestProject&quot; --directory /Users/user/code/work/py-test-project</code></p></li> <li><p>Selecting an editor and install OpenTAP.
in the file named (in this case) './TestProject.Api/TestProject.Api.csproj' you can select which editor to use. To install the Editor application, change</p> <p><code>&lt;!-- &lt;OpenTapPackageReference Include=&quot;Editor&quot;/&gt; --&gt;</code></p> <p>to</p> <p><code>&lt;OpenTapPackageReference Include=&quot;Editor&quot;/&gt;</code></p> <p>In this file you can also add other package dependencies as needed.</p> <p>When this is done run <code>dotnet build</code> from the root of the project. Now you should have a <code>bin</code> folder containing <code>tap</code> and the editor you've selected.</p> <p>Now run <code>bin/Debug/Editor.exe</code> (if you've selected the Editor package) to load the editor application.</p></li> <li><p>Build a package file</p> <p>Let's say that you've developed your plugin and want to share it with the world. This is simple. From the root of the project, invoke:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>bin/tap package create package.xml
</code></pre></div><p>This will compile all files in your python module and insert it into a TapPackage file in the right location.</p> <p>If you want to add more files to the package, you can open the package.xml file and modify according to your needs. For more information on this check out the [doc.opentap.io](OpenTAP Developer Guide).</p></li></ol> <h2 id="develop-the-plugin-inside-the-packages-folder"><a href="#develop-the-plugin-inside-the-packages-folder" class="header-anchor">#</a> Develop the plugin inside the Packages folder.</h2> <p>This way has been used since version 2 of the Python plugin. It</p> <p>Python development is done in modules (.py files) that reside in a Python package folder.</p> <p>Each module contains the code for one or more OpenTAP plugins.</p> <p>In the following steps, <em>PythonExample</em> refers to your project folder. Follow these steps to create a Python plugin:</p> <ol><li><p>Create Python modules for your plugins. To start from scratch, develop your code in a folder within <strong>%TAP_PATH%\Packages\</strong>. To begin with the Python package build:</p> <p>a. Go to $TAP_PATH/Packages/ and make a new folder with the desired plugin name. This has to be a valid Python module name.</p></li> <li><p>Add a python file to your folder containing your code. For example:</p> <div class="language-py extra-class"><pre class="language-py"><code>   <span class="token comment"># Packages/MyPythonProject/step1.py</span>
   <span class="token keyword">import</span> opentap
   <span class="token keyword">class</span> <span class="token class-name">Step1</span><span class="token punctuation">(</span>opentap<span class="token punctuation">.</span>TestStep<span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
         <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">def</span> <span class="token function">Run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
         <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Run<span class="token punctuation">(</span><span class="token punctuation">)</span>
         self<span class="token punctuation">.</span>log<span class="token punctuation">.</span>Debug<span class="token punctuation">(</span><span class="token string">&quot;Step1 Executed&quot;</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>Test your plugin in OpenTAP and modify your code as needed. Rebuild the plugin if you add new types or properties to the plugin types.</p></li> <li><p>When the package is complete and ready for distribution, you can create a .TapPackage file.</p> <p>To do this, you need to add a package.xml file to the project.
For an example of this see the <a href="https://raw.githubusercontent.com/opentap/OpenTap.Python/dev/OpenTap.Python.Examples/package.xml" target="_blank" rel="noopener noreferrer">package.xml<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> used to build the PythonExamples project.</p> <p>When you have the package.xml run:</p> <div class="language- extra-class"><pre class="language-text"><code>tap package create &quot;Packages/MyPythonProject/package.xml
</code></pre></div><p>This should result in a TapPackage file containing your python files, ready for distribution.</p></li></ol> <p>Your plugin package is complete and ready for distribution. When viewed in OpenTAP Package Manager, users will be able to see and install your package.</p> <p><img src="/OpenTap.Python/assets/img/python_package_in_tap.b9558dd0.png" alt=""></p> <h2 id="adding-pip-package-dependencies"><a href="#adding-pip-package-dependencies" class="header-anchor">#</a> Adding Pip Package Dependencies</h2> <p>The Python ecosystem has it's own package system for managing packages that you might need in your project.
By adding a requirements file, you can let the OpenTAP package system know that you need some pip packages installed
as well as your OpenTap package.</p> <p>For example numpy is a popular package for data processing.</p> <p>Let's say we want to make sure that numpy is installed when our TapPackage is installed.</p> <ol><li>First create a <code>requirements.txt</code> inside your plugin project. This could look like this<div class="language- extra-class"><pre class="language-text"><code>   numpy&gt;1.23
</code></pre></div></li> <li>Add the requirements.txt file to your package.xml file:<div class="language- extra-class"><pre class="language-text"><code>&lt;!-- ... --&gt;
&lt;File Path=&quot;Packages/PythonExamples/requirements.txt&quot;&gt;
  &lt;PythonRequirements/&gt; &lt;!-- this defines pip dependencies --&gt;
&lt;/File&gt;
&lt;!-- ... --&gt;
</code></pre></div></li> <li>Build your package as usual.</li></ol> <p>When you install your package, the Pip dependencies will now also be installed in your python path.</p> <h2 id="projects-outside-the-opentap-installation"><a href="#projects-outside-the-opentap-installation" class="header-anchor">#</a> Projects Outside the OpenTAP Installation</h2> <p>It is possible to create projects outside the OpenTAP installation folder, although it can give issues with packaging and project discovery.</p> <p>First, it is necessesary to add an additional search path in the Python settings. This can be done through the settings or by using a command line action:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># add a python-projects folder to the search paths.</span>
<span class="token comment"># inside python-projects there can be a number of modules each defining a plugin module.</span>
tap python search-path <span class="token parameter variable">--add</span> /home/user/code/python-projects/
</code></pre></div><p>After doing this, OpenTAP should be able to locate the plugins defined inside that folder structure.
The folder structure can contain many sub-folders with projects.</p> <p>This will cause a problem when you want to create a TapPackage file. TapPackage files tries to install the plugin into the OpenTAP installation folder structure and in theory this is not a problem.
The only problem is that your added search-path projects does not map directly to the way projects are set up inside the OpenTAP installation folder structure.
This can be fixed by using the <code>&lt;ProjectFile/&gt;</code> element in your package XML file. Take for example this package XML:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Package</span> <span class="token attr-name">Name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>python-test1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://keysight.com/Schemas/tap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$(GitVersion)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">OS</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Windows,Linux,MacOS<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Description</span><span class="token punctuation">&gt;</span></span>Description of your package.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Description</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageDependency</span> <span class="token attr-name">Package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>OpenTAP<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>^9.18.2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageDependency</span> <span class="token attr-name">Package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Python<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>^3.0.0-beta<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Files</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>File</span> <span class="token attr-name">Path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>python-test1/*.py<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ProjectFile</span><span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- these files should be moved into Packages/python-test1/*.py --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>File</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>File</span> <span class="token attr-name">Path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>requirements.txt<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PythonRequirements</span><span class="token punctuation">/&gt;</span></span>
           <span class="token comment">&lt;!-- This file should be moved to Packages/python-test1/requirements.txt --&gt;</span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ProjectFile</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>File</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Files</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Package</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>ProjectFile</code> does either:</p> <ol><li>If the file name starts with the project name, prepend <code>Packages/</code>.</li> <li>If the file name does not start with the project name, prepend <code>Packages/[project name]</code>.</li></ol> <p>If this is not wanted, simply omit the ProjectFile element.</p> <p>So, the python-projects folder might look something like this:</p> <div class="language- extra-class"><pre class="language-text"><code>/home/user/code/python-projects/
                           plugin1/
                              step.py
                              step2.py
                              package.xml
                              requirements.txt
                           plugin2/
                              instrument.py
                              package.xml
                              requirements.txt
</code></pre></div><p>However, when plugin1.TapPackage and plugin2.TapPackage, these will get deployed into the OpenTAP folder as such:</p> <div class="language- extra-class"><pre class="language-text"><code>/opentap-installation/
    Dependencies/...
    Packages/
       plugin1/
           step.py
           step2.py
           package.xml
           requirements.txt
       plugin2/
           instrument.py
           package.xml
           requirements.txt
       ....
    SessionLogs/...
    Settings/...
    tap.exe
    OpenTap.dll
    ...
</code></pre></div><p>In either scenario, OpenTAP will be able to find them due to their location with respect to the search path.</p> <p><em>Warning:</em> If you set the search path and install the TapPackage plugin in the same installation it is undefined what happens.
It is recommended to remove the search path when installing the TapPackage for a given Python-based plugin.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/opentap/OpenTap.Python/edit/dev/Documentation/TAP_Python_Help/Creating_a_plugin.md" target="_blank" rel="noopener noreferrer">Help improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/OpenTap.Python/TAP_Python_Help/Getting_Started.html" class="prev">
        Getting Started
      </a></span> <span class="next"><a href="/OpenTap.Python/TAP_Python_Help/New_Project_Creation.html">
        New Project Creation
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/OpenTap.Python/assets/js/app.43612215.js" defer></script><script src="/OpenTap.Python/assets/js/2.d5a6c876.js" defer></script><script src="/OpenTap.Python/assets/js/8.1cd67e50.js" defer></script>
  </body>
</html>
